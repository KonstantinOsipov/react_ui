{"ast":null,"code":"import _regeneratorRuntime from\"/home/konstantin/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/react-ui-biconomy/react-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/konstantin/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/react-ui-biconomy/react-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/konstantin/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/react-ui-biconomy/react-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"../App.css\";import Button from\"@material-ui/core/Button\";import{NotificationContainer,NotificationManager}from\"react-notifications\";import\"react-notifications/lib/notifications.css\";import Backdrop from'@material-ui/core/Backdrop';import CircularProgress from'@material-ui/core/CircularProgress';import Web3 from\"web3\";import{Biconomy}from\"@biconomy/mexa\";import{makeStyles}from'@material-ui/core/styles';import Link from'@material-ui/core/Link';import Typography from'@material-ui/core/Typography';import{Box}from\"@material-ui/core\";var sigUtil=require(\"eth-sig-util\");var config={contract:{address:\"0x765059C2EE625960D1fEdD44Ab2B438Ae19dA711\",abi:[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"Blacklisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"UnBlacklisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"blacklist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bridgeContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"}],\"name\":\"claimTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"isBlacklisted\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isBridge\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20Upgradeable\",\"name\":\"tokenContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"rescueERC20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"rescueEther\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_bridgeContract\",\"type\":\"address\"}],\"name\":\"setBridgeContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trustedForwarder\",\"type\":\"address\"}],\"name\":\"setTrustedForwarder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"transferAndCall\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"unBlacklist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"versionRecipient\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]},apiKey:{test:\"pjFNjU6SC.b1ef87c2-7a3a-4290-a026-3e71076d1124\",prod:\"pjFNjU6SC.b1ef87c2-7a3a-4290-a026-3e71076d1124\"}};var web3,walletWeb3,biconomy;var contract;var useStyles=makeStyles(function(theme){return{root:{'& > * + *':{marginLeft:theme.spacing(2)}},link:{marginLeft:\"5px\"},backdrop:{zIndex:theme.zIndex.drawer+1,color:'#fff',opacity:'.85!important',background:'#000'}};});function App(){var classes=useStyles();var preventDefault=function preventDefault(event){return event.preventDefault();};var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),backdropOpen=_React$useState2[0],setBackdropOpen=_React$useState2[1];var _React$useState3=React.useState(\" Loading Application ...\"),_React$useState4=_slicedToArray(_React$useState3,2),loadingMessage=_React$useState4[0],setLoadingMessage=_React$useState4[1];var _useState=useState(\"This is a default quote\"),_useState2=_slicedToArray(_useState,2),quote=_useState2[0],setQuote=_useState2[1];var _useState3=useState(\"Default Owner Address\"),_useState4=_slicedToArray(_useState3,2),owner=_useState4[0],setOwner=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newQuote=_useState6[0],setNewQuote=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectedAddress=_useState8[0],setSelectedAddress=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),metaTxEnabled=_useState10[0],setMetaTxEnabled=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),transactionHash=_useState12[0],setTransactionHash=_useState12[1];useEffect(function(){function init(){return _init.apply(this,arguments);}function _init(){_init=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var provider,kovanProvider;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof window.ethereum!==\"undefined\"&&window.ethereum.isMetaMask)){_context.next=12;break;}// Ethereum user detected. You can now use the provider.\nprovider=window[\"ethereum\"];_context.next=4;return provider.enable();case 4:kovanProvider=new Web3.providers.HttpProvider(\"https://kovan.infura.io/v3/d126f392798444609246423b06116c77\");setLoadingMessage(\"Initializing Biconomy ...\");biconomy=new Biconomy(kovanProvider,{walletProvider:window.ethereum,apiKey:config.apiKey.prod,debug:true});// This web3 instance is used to read normally and write to contract via meta transactions.\nweb3=new Web3(biconomy);// This web3 instance is used to get user signature from connected wallet\nwalletWeb3=new Web3(window.ethereum);biconomy.onEvent(biconomy.READY,function(){// Initialize your dapp here like getting user accounts etc\ncontract=new web3.eth.Contract(config.contract.abi,config.contract.address);setSelectedAddress(provider.selectedAddress);getQuoteFromNetwork();provider.on(\"accountsChanged\",function(accounts){setSelectedAddress(accounts[0]);});}).onEvent(biconomy.ERROR,function(error,message){// Handle error while initializing mexa\n});_context.next=13;break;case 12:showErrorMessage(\"Metamask not installed\");case 13:case\"end\":return _context.stop();}}},_callee);}));return _init.apply(this,arguments);}init();},[]);var handleClose=function handleClose(){setBackdropOpen(false);};var handleToggle=function handleToggle(){setBackdropOpen(!backdropOpen);};var onQuoteChange=function onQuoteChange(event){setNewQuote(event.target.value);};var onSubmitWithPrivateKey=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var privateKey,userAddress,txParams,signedTx,forwardData,signature,rawTransaction,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(newQuote!=\"\"&&contract)){_context2.next=18;break;}setTransactionHash(\"\");console.log(\"Sending meta transaction\");privateKey=\"2ef295b86aa9d40ff8835a9fe852942ccea0b7c757fad5602dfa429bcdaea910\";userAddress=\"0xE1E763551A85F04B4687f0035885E7F710A46aA6\";txParams={\"from\":userAddress,\"to\":config.contract.address,\"data\":contract.methods.setQuote(newQuote).encodeABI(),\"gasLimit\":web3.utils.toHex(300000)};_context2.next=8;return web3.eth.accounts.signTransaction(txParams,\"0x\".concat(privateKey));case 8:signedTx=_context2.sent;_context2.next=11;return biconomy.getForwardRequestAndMessageToSign(signedTx.rawTransaction);case 11:forwardData=_context2.sent;signature=sigUtil.signTypedMessage(new Buffer.from(privateKey,'hex'),{data:forwardData.eip712Format},'V4');rawTransaction=signedTx.rawTransaction;data={signature:signature,forwardRequest:forwardData.request,rawTransaction:rawTransaction,signatureType:biconomy.EIP712_SIGN};web3.eth.sendSignedTransaction(data).on('transactionHash',function(hash){console.log(\"Transaction hash is \".concat(hash));showInfoMessage(\"Transaction sent via Biconomy. Waiting for confirmation.\");}).once('confirmation',function(confirmation,receipt){console.log(\"Transaction Confirmed.\");console.log(receipt);setTransactionHash(receipt.transactionHash);showSuccessMessage(\"Transaction confirmed\");getQuoteFromNetwork();});_context2.next=19;break;case 18:showErrorMessage(\"Please enter the quote\");case 19:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmitWithPrivateKey(){return _ref.apply(this,arguments);};}();var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var tx;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(newQuote!=\"\"&&contract){setTransactionHash(\"\");if(metaTxEnabled){try{tx=contract.methods.transfer(\"0x7FcDa7856764cf6984d53bC997e660502b675184\",newQuote).send({from:selectedAddress,signatureType:biconomy.EIP712_SIGN});tx.on(\"transactionHash\",function(hash){console.log(\"Transaction hash is \".concat(hash));showInfoMessage(\"Transaction via Biconomy sent. Waiting for confirmation ..\");}).once(\"confirmation\",function(confirmationNumber,receipt){console.log(receipt);setTransactionHash(receipt.transactionHash);showSuccessMessage(\"Transaction confirmed on chain\");getQuoteFromNetwork();}).on('error',function(error,receipt){console.log(error);});}catch(err){console.log(\"handle errors like signature denied here\");console.log(err);}}else{console.log(\"Sending normal transaction\");contract.methods.setQuote(newQuote).send({from:selectedAddress}).on(\"transactionHash\",function(hash){showInfoMessage(\"Transaction sent to blockchain with hash \".concat(hash));}).once(\"confirmation\",function(confirmationNumber,receipt){setTransactionHash(receipt.transactionHash);showSuccessMessage(\"Transaction confirmed\");getQuoteFromNetwork();});}}else{showErrorMessage(\"Please enter a value\");}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();var getSignatureParameters=function getSignatureParameters(signature){if(!web3.utils.isHexStrict(signature)){throw new Error('Given value \"'.concat(signature,'\" is not a valid hex string.'));}var r=signature.slice(0,66);var s=\"0x\".concat(signature.slice(66,130));var v=\"0x\".concat(signature.slice(130,132));v=web3.utils.hexToNumber(v);if(![27,28].includes(v))v+=27;return{r:r,s:s,v:v};};var getQuoteFromNetwork=function getQuoteFromNetwork(){setLoadingMessage(\"Getting Quote from contact ...\");try{if(web3&&contract){contract.methods.getQuote().call().then(function(result){handleClose();console.log(result);if(result&&result.currentQuote!=undefined&&result.currentOwner!=undefined){if(result.currentQuote==\"\"){showErrorMessage(\"No quotes set on blockchain yet\");}else{setQuote(result.currentQuote);setOwner(result.currentOwner);}}else{showErrorMessage(\"Not able to get quote information from Network\");}});}else{handleClose();}}catch(error){handleClose();console.log(error);}};var showErrorMessage=function showErrorMessage(message){NotificationManager.error(message,\"Error\",5000);};var showSuccessMessage=function showSuccessMessage(message){NotificationManager.success(message,\"Message\",3000);};var showInfoMessage=function showInfoMessage(message){NotificationManager.info(message,\"Info\",3000);};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"section\",{className:\"top-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"top-row-item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"label\"},\"Library \"),/*#__PURE__*/React.createElement(\"span\",{className:\"label-value\"},\"web3.js\")),/*#__PURE__*/React.createElement(\"div\",{className:\"top-row-item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"label\"},\"Meta Transaction\"),/*#__PURE__*/React.createElement(\"span\",{className:\"label-value\"},\"EIP-2771\")),/*#__PURE__*/React.createElement(\"div\",{className:\"top-row-item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"label\"},\"Signature Type\"),/*#__PURE__*/React.createElement(\"span\",{className:\"label-value\"},\"EIP712 Signature\"))),/*#__PURE__*/React.createElement(\"section\",null,transactionHash!==\"\"&&/*#__PURE__*/React.createElement(Box,{className:classes.root,mt:2,p:2},/*#__PURE__*/React.createElement(Typography,null,\"Check your transaction hash\",/*#__PURE__*/React.createElement(Link,{href:\"https://kovan.etherscan.io/tx/\".concat(transactionHash),target:\"_blank\",className:classes.link},\"here\")))),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"submit-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"submit-row\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter a value to transfer\",onChange:onQuoteChange,value:newQuote}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:onSubmit},\"Submit\")))),/*#__PURE__*/React.createElement(Backdrop,{className:classes.backdrop,open:backdropOpen,onClick:handleClose},/*#__PURE__*/React.createElement(CircularProgress,{color:\"inherit\"}),/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"10px\"}},loadingMessage)),/*#__PURE__*/React.createElement(NotificationContainer,null));}export default App;","map":{"version":3,"sources":["/home/konstantin/Документы/react-ui-biconomy/react-ui/src/components/Web3_EIP2771_EIP712Sign.js"],"names":["React","useState","useEffect","Button","NotificationContainer","NotificationManager","Backdrop","CircularProgress","Web3","Biconomy","makeStyles","Link","Typography","Box","sigUtil","require","config","contract","address","abi","apiKey","test","prod","web3","walletWeb3","biconomy","useStyles","theme","root","marginLeft","spacing","link","backdrop","zIndex","drawer","color","opacity","background","App","classes","preventDefault","event","backdropOpen","setBackdropOpen","loadingMessage","setLoadingMessage","quote","setQuote","owner","setOwner","newQuote","setNewQuote","selectedAddress","setSelectedAddress","metaTxEnabled","setMetaTxEnabled","transactionHash","setTransactionHash","init","window","ethereum","isMetaMask","provider","enable","kovanProvider","providers","HttpProvider","walletProvider","debug","onEvent","READY","eth","Contract","getQuoteFromNetwork","on","accounts","ERROR","error","message","showErrorMessage","handleClose","handleToggle","onQuoteChange","target","value","onSubmitWithPrivateKey","console","log","privateKey","userAddress","txParams","methods","encodeABI","utils","toHex","signTransaction","signedTx","getForwardRequestAndMessageToSign","rawTransaction","forwardData","signature","signTypedMessage","Buffer","from","data","eip712Format","forwardRequest","request","signatureType","EIP712_SIGN","sendSignedTransaction","hash","showInfoMessage","once","confirmation","receipt","showSuccessMessage","onSubmit","tx","transfer","send","confirmationNumber","err","getSignatureParameters","isHexStrict","Error","concat","r","slice","s","v","hexToNumber","includes","getQuote","call","then","result","currentQuote","undefined","currentOwner","success","info","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Button from \"@material-ui/core/Button\";\nimport {\n    NotificationContainer,\n    NotificationManager\n} from \"react-notifications\";\nimport \"react-notifications/lib/notifications.css\";\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Web3 from \"web3\";\nimport { Biconomy } from \"@biconomy/mexa\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport { Box } from \"@material-ui/core\";\nlet sigUtil = require(\"eth-sig-util\");\nlet config = {\n    contract: {\n        address: \"0x765059C2EE625960D1fEdD44Ab2B438Ae19dA711\",\n        abi: [{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"Blacklisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"UnBlacklisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"blacklist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bridgeContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"}],\"name\":\"claimTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"isBlacklisted\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isBridge\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20Upgradeable\",\"name\":\"tokenContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"rescueERC20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"rescueEther\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_bridgeContract\",\"type\":\"address\"}],\"name\":\"setBridgeContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trustedForwarder\",\"type\":\"address\"}],\"name\":\"setTrustedForwarder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"transferAndCall\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_account\",\"type\":\"address\"}],\"name\":\"unBlacklist\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"versionRecipient\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]\n    },\n    apiKey: {\n        test: \"pjFNjU6SC.b1ef87c2-7a3a-4290-a026-3e71076d1124\",\n        prod: \"pjFNjU6SC.b1ef87c2-7a3a-4290-a026-3e71076d1124\"\n    }\n}\n\nlet web3, walletWeb3, biconomy;\nlet contract;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > * + *': {\n            marginLeft: theme.spacing(2),\n        },\n    },\n    link: {\n        marginLeft: \"5px\"\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n        opacity: '.85!important',\n        background: '#000'\n    },\n}));\n\nfunction App() {\n    const classes = useStyles();\n    const preventDefault = (event) => event.preventDefault();\n    const [backdropOpen, setBackdropOpen] = React.useState(true);\n    const [loadingMessage, setLoadingMessage] = React.useState(\" Loading Application ...\");\n    const [quote, setQuote] = useState(\"This is a default quote\");\n    const [owner, setOwner] = useState(\"Default Owner Address\");\n    const [newQuote, setNewQuote] = useState(\"\");\n    const [selectedAddress, setSelectedAddress] = useState(\"\");\n    const [metaTxEnabled, setMetaTxEnabled] = useState(true);\n    const [transactionHash, setTransactionHash] = useState(\"\");\n\n    useEffect(() => {\n        async function init() {\n            if (\n                typeof window.ethereum !== \"undefined\" &&\n                window.ethereum.isMetaMask\n            ) {\n                // Ethereum user detected. You can now use the provider.\n                const provider = window[\"ethereum\"];\n                await provider.enable();\n                let kovanProvider = new Web3.providers.HttpProvider(\"https://kovan.infura.io/v3/d126f392798444609246423b06116c77\");\n                setLoadingMessage(\"Initializing Biconomy ...\");\n                biconomy = new Biconomy(kovanProvider, {\n                    walletProvider: window.ethereum,\n                    apiKey: config.apiKey.prod,\n                    debug: true\n                });\n\n                // This web3 instance is used to read normally and write to contract via meta transactions.\n                web3 = new Web3(biconomy);\n\n                // This web3 instance is used to get user signature from connected wallet\n                walletWeb3 = new Web3(window.ethereum);\n\n                biconomy.onEvent(biconomy.READY, () => {\n                    // Initialize your dapp here like getting user accounts etc\n                    contract = new web3.eth.Contract(\n                        config.contract.abi,\n                        config.contract.address\n                    );\n                    setSelectedAddress(provider.selectedAddress);\n                    getQuoteFromNetwork();\n                    provider.on(\"accountsChanged\", function (accounts) {\n                        setSelectedAddress(accounts[0]);\n                    });\n                }).onEvent(biconomy.ERROR, (error, message) => {\n                    // Handle error while initializing mexa\n                });\n            } else {\n                showErrorMessage(\"Metamask not installed\");\n            }\n        }\n        init();\n    }, []);\n\n    const handleClose = () => {\n        setBackdropOpen(false);\n    };\n\n    const handleToggle = () => {\n        setBackdropOpen(!backdropOpen);\n    };\n\n    const onQuoteChange = event => {\n        setNewQuote(event.target.value);\n    };\n\n    const onSubmitWithPrivateKey = async () => {\n        if (newQuote != \"\" && contract) {\n            setTransactionHash(\"\");\n            console.log(\"Sending meta transaction\");\n            let privateKey = \"2ef295b86aa9d40ff8835a9fe852942ccea0b7c757fad5602dfa429bcdaea910\";\n            let userAddress = \"0xE1E763551A85F04B4687f0035885E7F710A46aA6\";\n            let txParams = {\n                \"from\": userAddress,\n                \"to\": config.contract.address,\n                \"data\": contract.methods.setQuote(newQuote).encodeABI(),\n                \"gasLimit\": web3.utils.toHex(300000),\n            };\n            const signedTx = await web3.eth.accounts.signTransaction(txParams, `0x${privateKey}`);\n            const forwardData = await biconomy.getForwardRequestAndMessageToSign(signedTx.rawTransaction);\n            const signature = sigUtil.signTypedMessage(new Buffer.from(privateKey, 'hex'),\n                { data: forwardData.eip712Format }, 'V4');\n            let rawTransaction = signedTx.rawTransaction;\n            let data = {\n                signature: signature,\n                forwardRequest: forwardData.request,\n                rawTransaction: rawTransaction,\n                signatureType: biconomy.EIP712_SIGN\n            };\n\n            web3.eth.sendSignedTransaction(data)\n                .on('transactionHash', (hash) => {\n                    console.log(`Transaction hash is ${hash}`)\n                    showInfoMessage(`Transaction sent via Biconomy. Waiting for confirmation.`);\n                })\n                .once('confirmation', (confirmation, receipt) => {\n                    console.log(`Transaction Confirmed.`);\n                    console.log(receipt);\n                    setTransactionHash(receipt.transactionHash);\n                    showSuccessMessage(\"Transaction confirmed\");\n                    getQuoteFromNetwork();\n                });\n\n        } else {\n            showErrorMessage(\"Please enter the quote\");\n        }\n    }\n\n    const onSubmit = async event => {\n        if (newQuote != \"\" && contract) {\n            setTransactionHash(\"\");\n            if (metaTxEnabled) {\n                try {\n                    let tx = contract.methods\n                    .transfer(\"0x7FcDa7856764cf6984d53bC997e660502b675184\", newQuote)\n                    .send({\n                        from: selectedAddress,\n                        signatureType: biconomy.EIP712_SIGN\n                    });\n\n                    tx.on(\"transactionHash\", function (hash) {\n                        console.log(`Transaction hash is ${hash}`);\n                        showInfoMessage(`Transaction via Biconomy sent. Waiting for confirmation ..`);\n                    }).once(\"confirmation\", function (confirmationNumber, receipt) {\n                        console.log(receipt);\n                        setTransactionHash(receipt.transactionHash);\n                        showSuccessMessage(\"Transaction confirmed on chain\");\n                        getQuoteFromNetwork();\n                    }).on('error', function (error, receipt) {\n                        console.log(error);\n                    });\n                } catch (err) {\n                    console.log(\"handle errors like signature denied here\");\n                    console.log(err);\n                }\n\n\n            } else {\n                console.log(\"Sending normal transaction\");\n                contract.methods\n                    .setQuote(newQuote)\n                    .send({ from: selectedAddress })\n                    .on(\"transactionHash\", function (hash) {\n                        showInfoMessage(`Transaction sent to blockchain with hash ${hash}`);\n                    })\n                    .once(\"confirmation\", function (confirmationNumber, receipt) {\n                        setTransactionHash(receipt.transactionHash);\n                        showSuccessMessage(\"Transaction confirmed\");\n                        getQuoteFromNetwork();\n                    });\n            }\n        } else {\n            showErrorMessage(\"Please enter a value\");\n        }\n    };\n\n    const getSignatureParameters = signature => {\n        if (!web3.utils.isHexStrict(signature)) {\n            throw new Error(\n                'Given value \"'.concat(signature, '\" is not a valid hex string.')\n            );\n        }\n        var r = signature.slice(0, 66);\n        var s = \"0x\".concat(signature.slice(66, 130));\n        var v = \"0x\".concat(signature.slice(130, 132));\n        v = web3.utils.hexToNumber(v);\n        if (![27, 28].includes(v)) v += 27;\n        return {\n            r: r,\n            s: s,\n            v: v\n        };\n    };\n\n    const getQuoteFromNetwork = () => {\n        setLoadingMessage(\"Getting Quote from contact ...\");\n        try {\n            if (web3 && contract) {\n                contract.methods\n                    .getQuote()\n                    .call()\n                    .then(function (result) {\n                        handleClose();\n                        console.log(result);\n                        if (\n                            result &&\n                            result.currentQuote != undefined &&\n                            result.currentOwner != undefined\n                        ) {\n                            if (result.currentQuote == \"\") {\n                                showErrorMessage(\"No quotes set on blockchain yet\");\n                            } else {\n                                setQuote(result.currentQuote);\n                                setOwner(result.currentOwner);\n                            }\n                        } else {\n                            showErrorMessage(\"Not able to get quote information from Network\");\n                        }\n                    });\n            } else {\n                handleClose();\n            }\n        } catch (error) {\n            handleClose();\n            console.log(error);\n        }\n    };\n\n    const showErrorMessage = message => {\n        NotificationManager.error(message, \"Error\", 5000);\n    };\n\n    const showSuccessMessage = message => {\n        NotificationManager.success(message, \"Message\", 3000);\n    };\n\n    const showInfoMessage = message => {\n        NotificationManager.info(message, \"Info\", 3000);\n    };\n\n    return (\n        <div className=\"App\">\n            <section className=\"top-row\">\n                <div className=\"top-row-item\">\n                    <span className=\"label\">Library </span>\n                    <span className=\"label-value\">web3.js</span>\n                </div>\n                <div className=\"top-row-item\">\n                    <span className=\"label\">Meta Transaction</span>\n                    <span className=\"label-value\">EIP-2771</span>\n                </div>\n                <div className=\"top-row-item\">\n                    <span className=\"label\">Signature Type</span>\n                    <span className=\"label-value\">EIP712 Signature</span>\n                </div>\n            </section>\n{/*             <section className=\"main\">\n                <div className=\"mb-wrap mb-style-2\">\n                    <blockquote cite=\"http://www.gutenberg.org/ebboks/11\">\n                        <p>{quote}</p>\n                    </blockquote>\n                </div>\n\n                <div className=\"mb-attribution\">\n                    <p className=\"mb-author\">{owner}</p>\n                    {selectedAddress.toLowerCase() === owner.toLowerCase() && (\n                        <cite className=\"owner\">You are the owner of the quote</cite>\n                    )}\n                    {selectedAddress.toLowerCase() !== owner.toLowerCase() && (\n                        <cite>You are not the owner of the quote</cite>\n                    )}\n                </div>\n            </section> */}\n            <section>\n                {transactionHash !== \"\" && <Box className={classes.root} mt={2} p={2}>\n                    <Typography>\n                        Check your transaction hash\n            <Link href={`https://kovan.etherscan.io/tx/${transactionHash}`} target=\"_blank\"\n                            className={classes.link}>\n                            here\n            </Link>\n                    </Typography>\n                </Box>}\n            </section>\n            <section>\n                <div className=\"submit-container\">\n                    <div className=\"submit-row\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Enter a value to transfer\"\n                            onChange={onQuoteChange}\n                            value={newQuote}\n                        />\n                        <Button variant=\"contained\" color=\"primary\" onClick={onSubmit}>\n                            Submit\n            </Button>\n{/*                         <Button variant=\"contained\" color=\"primary\" onClick={onSubmitWithPrivateKey} style={{ marginLeft: \"10px\" }}>\n                            Submit (using private key)\n            </Button> */}\n                    </div>\n                </div>\n            </section>\n            <Backdrop className={classes.backdrop} open={backdropOpen} onClick={handleClose}>\n                <CircularProgress color=\"inherit\" />\n                <div style={{ paddingLeft: \"10px\" }}>{loadingMessage}</div>\n            </Backdrop>\n            <NotificationContainer />\n        </div>\n    );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}